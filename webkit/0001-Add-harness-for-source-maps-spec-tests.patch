From 7a32bf0588f02dab277a89aeff876c8bd2723405 Mon Sep 17 00:00:00 2001
From: Asumu Takikawa <asumu@igalia.com>
Date: Mon, 11 Mar 2024 13:41:31 -0700
Subject: [PATCH] Add harness for source maps spec tests

Need a short description (OOPS!).
Need the bug URL (OOPS!).

Reviewed by NOBODY (OOPS!).

Explanation of why this fixes the bug (OOPS!).

* LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-as-index-map.js: Added.
(foo):
(bar):
* LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-as-index-map.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-original.js: Added.
(foo):
(bar):
* LayoutTests/inspector/model/resources/source-map-tests/basic-mapping.js: Added.
(foo):
(bar):
* LayoutTests/inspector/model/resources/source-map-tests/basic-mapping.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/ignore-list-empty.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/ignore-list-empty.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/ignore-list-out-of-bounds.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/ignore-list-out-of-bounds.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/ignore-list-valid-1.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/ignore-list-valid-1.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-1.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-1.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-2.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-2.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-3.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-3.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-base-mappings.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-base-mappings.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-order.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-order.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-overlap.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-overlap.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-map.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-map.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-column.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-column.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-line.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-line.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-column-wrong-type.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-column-wrong-type.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-line-wrong-type.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-line-wrong-type.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-two-concatenated-sources.js: Added.
(foo):
(bar):
(baz):
* LayoutTests/inspector/model/resources/source-map-tests/index-map-two-concatenated-sources.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-map.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-map.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-offset.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-offset.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-sections.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-sections.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-bad-separator.js: Added.
(foo):
(bar):
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-bad-separator.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-1.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-1.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-2.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-2.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-column-too-large.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-column-too-large.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-out-of-bounds.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-out-of-bounds.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-too-large.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-too-large.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-column.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-column.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-name-index.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-name-index.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-column.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-column.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-line.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-line.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-column.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-column.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-name-index.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-name-index.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-column.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-column.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-line.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-line.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-source-index.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-source-index.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-source-index.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-source-index.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-column-too-large.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-column-too-large.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-line-too-large.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-line-too-large.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-out-of-bounds.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-out-of-bounds.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-too-large.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-too-large.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-three-fields.js: Added.
(foo):
(bar):
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-three-fields.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-two-fields.js: Added.
(foo):
(bar):
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-two-fields.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-zero-fields.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-zero-fields.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-missing-continuation.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-missing-continuation.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-non-base64-char.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-non-base64-char.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/names-missing.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/names-missing.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-1.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-1.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-2.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-2.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/names-not-string.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/names-not-string.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/second-source-original.js: Added.
(baz):
* LayoutTests/inspector/model/resources/source-map-tests/source-map-spec-tests.json: Added.
* LayoutTests/inspector/model/resources/source-map-tests/sources-and-sources-content-both-null.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/sources-and-sources-content-both-null.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/sources-missing.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/sources-missing.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/sources-non-null-sources-content-null.js: Added.
(foo):
(bar):
* LayoutTests/inspector/model/resources/source-map-tests/sources-non-null-sources-content-null.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-1.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-1.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-2.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-2.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/sources-not-string-or-null.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/sources-not-string-or-null.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/sources-null-sources-content-non-null.js: Added.
(foo):
(bar):
* LayoutTests/inspector/model/resources/source-map-tests/sources-null-sources-content-non-null.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-original.js: Added.
(foo):
* LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-original.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-three-steps.js: Added.
(foo):
* LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-three-steps.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping.js: Added.
(foo):
* LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/unrecognized-property.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/unrecognized-property.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-boundary-values.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-boundary-values.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-empty-groups.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-empty-groups.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-large-vlq.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-large-vlq.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/version-missing.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/version-missing.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/version-not-a-number.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/version-not-a-number.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/version-numeric-string.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/version-numeric-string.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/version-too-high.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/version-too-high.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/version-too-low.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/version-too-low.js.map: Added.
* LayoutTests/inspector/model/resources/source-map-tests/version-valid.js: Added.
* LayoutTests/inspector/model/resources/source-map-tests/version-valid.js.map: Added.
* LayoutTests/inspector/model/source-map-spec-expected.txt: Added.
* LayoutTests/inspector/model/source-map-spec.html: Added.
---
 .../basic-mapping-as-index-map.js             |    2 +
 .../basic-mapping-as-index-map.js.map         |   14 +
 .../basic-mapping-original.js                 |    8 +
 .../source-map-tests/basic-mapping.js         |    2 +
 .../source-map-tests/basic-mapping.js.map     |    6 +
 .../source-map-tests/ignore-list-empty.js     |    1 +
 .../source-map-tests/ignore-list-empty.js.map |    8 +
 .../ignore-list-out-of-bounds.js              |    1 +
 .../ignore-list-out-of-bounds.js.map          |    8 +
 .../source-map-tests/ignore-list-valid-1.js   |    1 +
 .../ignore-list-valid-1.js.map                |    8 +
 .../ignore-list-wrong-type-1.js               |    1 +
 .../ignore-list-wrong-type-1.js.map           |    8 +
 .../ignore-list-wrong-type-2.js               |    1 +
 .../ignore-list-wrong-type-2.js.map           |    8 +
 .../ignore-list-wrong-type-3.js               |    1 +
 .../ignore-list-wrong-type-3.js.map           |    8 +
 .../index-map-invalid-base-mappings.js        |    1 +
 .../index-map-invalid-base-mappings.js.map    |   15 +
 .../index-map-invalid-order.js                |    1 +
 .../index-map-invalid-order.js.map            |   23 +
 .../index-map-invalid-overlap.js              |    1 +
 .../index-map-invalid-overlap.js.map          |   23 +
 .../source-map-tests/index-map-missing-map.js |    1 +
 .../index-map-missing-map.js.map              |    8 +
 .../index-map-missing-offset-column.js        |    1 +
 .../index-map-missing-offset-column.js.map    |   14 +
 .../index-map-missing-offset-line.js          |    1 +
 .../index-map-missing-offset-line.js.map      |   14 +
 .../index-map-missing-offset.js               |    1 +
 .../index-map-missing-offset.js.map           |   13 +
 .../index-map-offset-column-wrong-type.js     |    1 +
 .../index-map-offset-column-wrong-type.js.map |   14 +
 .../index-map-offset-line-wrong-type.js       |    1 +
 .../index-map-offset-line-wrong-type.js.map   |   14 +
 .../index-map-two-concatenated-sources.js     |    2 +
 .../index-map-two-concatenated-sources.js.map |   23 +
 .../index-map-wrong-type-map.js               |    1 +
 .../index-map-wrong-type-map.js.map           |    9 +
 .../index-map-wrong-type-offset.js            |    1 +
 .../index-map-wrong-type-offset.js.map        |   14 +
 .../index-map-wrong-type-sections.js          |    1 +
 .../index-map-wrong-type-sections.js.map      |    4 +
 .../invalid-mapping-bad-separator.js          |    2 +
 .../invalid-mapping-bad-separator.js.map      |    6 +
 .../invalid-mapping-not-a-string-1.js         |    1 +
 .../invalid-mapping-not-a-string-1.js.map     |    7 +
 .../invalid-mapping-not-a-string-2.js         |    1 +
 .../invalid-mapping-not-a-string-2.js.map     |    7 +
 ...nvalid-mapping-segment-column-too-large.js |    1 +
 ...id-mapping-segment-column-too-large.js.map |    7 +
 ...apping-segment-name-index-out-of-bounds.js |    1 +
 ...ng-segment-name-index-out-of-bounds.js.map |    7 +
 ...id-mapping-segment-name-index-too-large.js |    1 +
 ...apping-segment-name-index-too-large.js.map |    7 +
 ...invalid-mapping-segment-negative-column.js |    1 +
 ...lid-mapping-segment-negative-column.js.map |    7 +
 ...lid-mapping-segment-negative-name-index.js |    1 +
 ...mapping-segment-negative-name-index.js.map |    7 +
 ...apping-segment-negative-original-column.js |    1 +
 ...ng-segment-negative-original-column.js.map |    7 +
 ...-mapping-segment-negative-original-line.js |    1 +
 ...ping-segment-negative-original-line.js.map |    7 +
 ...apping-segment-negative-relative-column.js |    1 +
 ...ng-segment-negative-relative-column.js.map |    8 +
 ...ng-segment-negative-relative-name-index.js |    1 +
 ...egment-negative-relative-name-index.js.map |    8 +
 ...gment-negative-relative-original-column.js |    1 +
 ...t-negative-relative-original-column.js.map |    8 +
 ...segment-negative-relative-original-line.js |    1 +
 ...ent-negative-relative-original-line.js.map |    8 +
 ...-segment-negative-relative-source-index.js |    1 +
 ...ment-negative-relative-source-index.js.map |    8 +
 ...d-mapping-segment-negative-source-index.js |    1 +
 ...pping-segment-negative-source-index.js.map |    7 +
 ...pping-segment-original-column-too-large.js |    1 +
 ...g-segment-original-column-too-large.js.map |    7 +
 ...mapping-segment-original-line-too-large.js |    1 +
 ...ing-segment-original-line-too-large.js.map |    7 +
 ...ping-segment-source-index-out-of-bounds.js |    1 +
 ...-segment-source-index-out-of-bounds.js.map |    7 +
 ...-mapping-segment-source-index-too-large.js |    1 +
 ...ping-segment-source-index-too-large.js.map |    7 +
 ...valid-mapping-segment-with-three-fields.js |    2 +
 ...d-mapping-segment-with-three-fields.js.map |    6 +
 ...invalid-mapping-segment-with-two-fields.js |    2 +
 ...lid-mapping-segment-with-two-fields.js.map |    6 +
 ...nvalid-mapping-segment-with-zero-fields.js |    1 +
 ...id-mapping-segment-with-zero-fields.js.map |    7 +
 .../invalid-vlq-missing-continuation.js       |    1 +
 .../invalid-vlq-missing-continuation.js.map   |    6 +
 .../invalid-vlq-non-base64-char.js            |    1 +
 .../invalid-vlq-non-base64-char.js.map        |    6 +
 .../source-map-tests/names-missing.js         |    1 +
 .../source-map-tests/names-missing.js.map     |    5 +
 .../source-map-tests/names-not-a-list-1.js    |    1 +
 .../names-not-a-list-1.js.map                 |    6 +
 .../source-map-tests/names-not-a-list-2.js    |    1 +
 .../names-not-a-list-2.js.map                 |    6 +
 .../source-map-tests/names-not-string.js      |    1 +
 .../source-map-tests/names-not-string.js.map  |    6 +
 .../second-source-original.js                 |    4 +
 .../source-map-spec-tests.json                | 1081 +++++++++++++++++
 .../sources-and-sources-content-both-null.js  |    1 +
 ...urces-and-sources-content-both-null.js.map |    7 +
 .../source-map-tests/sources-missing.js       |    1 +
 .../source-map-tests/sources-missing.js.map   |    5 +
 .../sources-non-null-sources-content-null.js  |    2 +
 ...urces-non-null-sources-content-null.js.map |    7 +
 .../source-map-tests/sources-not-a-list-1.js  |    1 +
 .../sources-not-a-list-1.js.map               |    6 +
 .../source-map-tests/sources-not-a-list-2.js  |    1 +
 .../sources-not-a-list-2.js.map               |    6 +
 .../sources-not-string-or-null.js             |    1 +
 .../sources-not-string-or-null.js.map         |    6 +
 .../sources-null-sources-content-non-null.js  |    2 +
 ...urces-null-sources-content-non-null.js.map |    7 +
 .../transitive-mapping-original.js            |    5 +
 .../transitive-mapping-original.js.map        |    8 +
 .../transitive-mapping-three-steps.js         |    6 +
 .../transitive-mapping-three-steps.js.map     |    7 +
 .../source-map-tests/transitive-mapping.js    |    2 +
 .../transitive-mapping.js.map                 |    6 +
 .../source-map-tests/unrecognized-property.js |    1 +
 .../unrecognized-property.js.map              |    8 +
 .../valid-mapping-boundary-values.js          |    1 +
 .../valid-mapping-boundary-values.js.map      |    7 +
 .../valid-mapping-empty-groups.js             |    1 +
 .../valid-mapping-empty-groups.js.map         |    8 +
 .../valid-mapping-large-vlq.js                |    1 +
 .../valid-mapping-large-vlq.js.map            |    6 +
 .../source-map-tests/version-missing.js       |    1 +
 .../source-map-tests/version-missing.js.map   |    5 +
 .../source-map-tests/version-not-a-number.js  |    1 +
 .../version-not-a-number.js.map               |    6 +
 .../version-numeric-string.js                 |    1 +
 .../version-numeric-string.js.map             |    6 +
 .../source-map-tests/version-too-high.js      |    1 +
 .../source-map-tests/version-too-high.js.map  |    6 +
 .../source-map-tests/version-too-low.js       |    1 +
 .../source-map-tests/version-too-low.js.map   |    6 +
 .../source-map-tests/version-valid.js         |    1 +
 .../source-map-tests/version-valid.js.map     |    6 +
 .../model/source-map-spec-expected.txt        |  575 +++++++++
 .../inspector/model/source-map-spec.html      |   84 ++
 145 files changed, 2423 insertions(+)
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-as-index-map.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-as-index-map.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-original.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/basic-mapping.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/basic-mapping.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/ignore-list-empty.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/ignore-list-empty.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/ignore-list-out-of-bounds.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/ignore-list-out-of-bounds.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/ignore-list-valid-1.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/ignore-list-valid-1.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-1.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-1.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-2.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-2.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-3.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-3.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-base-mappings.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-base-mappings.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-order.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-order.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-overlap.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-overlap.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-map.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-map.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-column.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-column.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-line.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-line.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-column-wrong-type.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-column-wrong-type.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-line-wrong-type.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-line-wrong-type.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-two-concatenated-sources.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-two-concatenated-sources.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-map.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-map.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-offset.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-offset.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-sections.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-sections.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-bad-separator.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-bad-separator.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-1.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-1.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-2.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-2.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-column-too-large.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-column-too-large.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-out-of-bounds.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-out-of-bounds.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-too-large.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-too-large.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-column.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-column.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-name-index.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-name-index.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-column.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-column.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-line.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-line.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-column.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-column.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-name-index.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-name-index.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-column.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-column.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-line.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-line.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-source-index.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-source-index.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-source-index.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-source-index.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-column-too-large.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-column-too-large.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-line-too-large.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-line-too-large.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-out-of-bounds.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-out-of-bounds.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-too-large.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-too-large.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-three-fields.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-three-fields.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-two-fields.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-two-fields.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-zero-fields.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-zero-fields.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-missing-continuation.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-missing-continuation.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-non-base64-char.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-non-base64-char.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/names-missing.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/names-missing.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-1.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-1.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-2.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-2.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/names-not-string.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/names-not-string.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/second-source-original.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/source-map-spec-tests.json
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/sources-and-sources-content-both-null.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/sources-and-sources-content-both-null.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/sources-missing.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/sources-missing.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/sources-non-null-sources-content-null.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/sources-non-null-sources-content-null.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-1.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-1.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-2.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-2.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/sources-not-string-or-null.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/sources-not-string-or-null.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/sources-null-sources-content-non-null.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/sources-null-sources-content-non-null.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-original.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-original.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-three-steps.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-three-steps.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/unrecognized-property.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/unrecognized-property.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-boundary-values.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-boundary-values.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-empty-groups.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-empty-groups.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-large-vlq.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-large-vlq.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/version-missing.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/version-missing.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/version-not-a-number.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/version-not-a-number.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/version-numeric-string.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/version-numeric-string.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/version-too-high.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/version-too-high.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/version-too-low.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/version-too-low.js.map
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/version-valid.js
 create mode 100644 LayoutTests/inspector/model/resources/source-map-tests/version-valid.js.map
 create mode 100644 LayoutTests/inspector/model/source-map-spec-expected.txt
 create mode 100644 LayoutTests/inspector/model/source-map-spec.html

diff --git a/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-as-index-map.js b/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-as-index-map.js
new file mode 100644
index 000000000000..b9fae380437d
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-as-index-map.js
@@ -0,0 +1,2 @@
+function foo(){return 42}function bar(){return 24}foo();bar();
+//# sourceMappingURL=basic-mapping-as-index-map.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-as-index-map.js.map b/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-as-index-map.js.map
new file mode 100644
index 000000000000..8a6d4b5dc788
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-as-index-map.js.map
@@ -0,0 +1,14 @@
+{
+  "version": 3,
+  "sections": [
+    {
+      "offset": { "line": 0, "column": 0 },
+      "map": {
+        "version": 3,
+        "names": ["foo","bar"],
+        "sources": ["basic-mapping-original.js"],
+        "mappings": "AAAA,SAASA,MACP,OAAO,EACT,CACA,SAASC,MACP,OAAO,EACT,CACAD,MACAC"
+      }
+    }
+  ]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-original.js b/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-original.js
new file mode 100644
index 000000000000..301b186cb15e
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping-original.js
@@ -0,0 +1,8 @@
+function foo() {
+  return 42;
+}
+function bar() {
+  return 24;
+}
+foo();
+bar();
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping.js b/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping.js
new file mode 100644
index 000000000000..2e479a4175b8
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping.js
@@ -0,0 +1,2 @@
+function foo(){return 42}function bar(){return 24}foo();bar();
+//# sourceMappingURL=basic-mapping.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping.js.map b/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping.js.map
new file mode 100644
index 000000000000..12dc9679a4b1
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/basic-mapping.js.map
@@ -0,0 +1,6 @@
+{
+  "version":3,
+  "names": ["foo","bar"],
+  "sources": ["basic-mapping-original.js"],
+  "mappings":"AAAA,SAASA,MACP,OAAO,EACT,CACA,SAASC,MACP,OAAO,EACT,CACAD,MACAC"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-empty.js b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-empty.js
new file mode 100644
index 000000000000..385a5c3501b2
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-empty.js
@@ -0,0 +1 @@
+//# sourceMappingURL=ignore-list-empty.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-empty.js.map b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-empty.js.map
new file mode 100644
index 000000000000..7297863a9be8
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-empty.js.map
@@ -0,0 +1,8 @@
+{
+  "version" : 3,
+  "sources": ["empty-original.js"],
+  "sourcesContent": [""],
+  "mappings": "",
+  "names": [],
+  "ignoreList": []
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-out-of-bounds.js b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-out-of-bounds.js
new file mode 100644
index 000000000000..7a0fbb883384
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-out-of-bounds.js
@@ -0,0 +1 @@
+//# sourceMappingURL=ignore-list-out-of-bounds.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-out-of-bounds.js.map b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-out-of-bounds.js.map
new file mode 100644
index 000000000000..fb2566bb419b
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-out-of-bounds.js.map
@@ -0,0 +1,8 @@
+{
+  "version" : 3,
+  "sources": ["empty-original.js"],
+  "sourcesContent": [""],
+  "mappings": "",
+  "names": [],
+  "ignoreList": [1]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-valid-1.js b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-valid-1.js
new file mode 100644
index 000000000000..ea64a5565a63
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-valid-1.js
@@ -0,0 +1 @@
+//# sourceMappingURL=ignore-list-valid-1.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-valid-1.js.map b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-valid-1.js.map
new file mode 100644
index 000000000000..98eebdf7f655
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-valid-1.js.map
@@ -0,0 +1,8 @@
+{
+  "version" : 3,
+  "sources": ["empty-original.js"],
+  "sourcesContent": [""],
+  "mappings": "",
+  "names": [],
+  "ignoreList": [0]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-1.js b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-1.js
new file mode 100644
index 000000000000..8b40bd384767
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-1.js
@@ -0,0 +1 @@
+//# sourceMappingURL=ignore-list-wrong-type-1.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-1.js.map b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-1.js.map
new file mode 100644
index 000000000000..688740aba843
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-1.js.map
@@ -0,0 +1,8 @@
+{
+  "version" : 3,
+  "sources": ["empty-original.js"],
+  "sourcesContent": [""],
+  "mappings": "",
+  "names": [],
+  "ignoreList": ["not a number"]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-2.js b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-2.js
new file mode 100644
index 000000000000..35c77911648e
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-2.js
@@ -0,0 +1 @@
+//# sourceMappingURL=ignore-list-wrong-type-2.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-2.js.map b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-2.js.map
new file mode 100644
index 000000000000..ca1d30de2d36
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-2.js.map
@@ -0,0 +1,8 @@
+{
+  "version" : 3,
+  "sources": ["empty-original.js"],
+  "sourcesContent": [""],
+  "mappings": "",
+  "names": [],
+  "ignoreList": ["0"]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-3.js b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-3.js
new file mode 100644
index 000000000000..8735d4175804
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-3.js
@@ -0,0 +1 @@
+//# sourceMappingURL=ignore-list-wrong-type-3.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-3.js.map b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-3.js.map
new file mode 100644
index 000000000000..7b4ccde3d3ac
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/ignore-list-wrong-type-3.js.map
@@ -0,0 +1,8 @@
+{
+  "version" : 3,
+  "sources": ["empty-original.js"],
+  "sourcesContent": [""],
+  "mappings": "",
+  "names": [],
+  "ignoreList": 0;
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-base-mappings.js b/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-base-mappings.js
new file mode 100644
index 000000000000..e90bef083c49
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-base-mappings.js
@@ -0,0 +1 @@
+//# sourceMappingURL=index-map-invalid-base-mappings.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-base-mappings.js.map b/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-base-mappings.js.map
new file mode 100644
index 000000000000..b489c1f080b1
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-base-mappings.js.map
@@ -0,0 +1,15 @@
+{
+  "version": 3,
+  "mappings": "AAAA",
+  "sections": [
+    {
+      "offset": { "line": 0, "column": 0 },
+      "map": {
+        "version": 3,
+        "names": [],
+        "sources": ["empty-original.js"],
+        "mappings": "AAAA"
+      }
+    }
+  ]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-order.js b/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-order.js
new file mode 100644
index 000000000000..263fa3c6e0b9
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-order.js
@@ -0,0 +1 @@
+//# sourceMappingURL=index-map-invalid-order.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-order.js.map b/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-order.js.map
new file mode 100644
index 000000000000..82da69df720e
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-order.js.map
@@ -0,0 +1,23 @@
+{
+  "version": 3,
+  "sections": [
+    {
+      "offset": { "line": 1, "column": 4 },
+      "map": {
+        "version": 3,
+        "names": [],
+        "sources": ["empty-original.js"],
+        "mappings": "AAAA"
+      }
+    },
+    {
+      "offset": { "line": 0, "column": 0 },
+      "map": {
+        "version": 3,
+        "names": [],
+        "sources": ["empty-original.js"],
+        "mappings": "AAAA"
+      }
+    }
+  ]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-overlap.js b/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-overlap.js
new file mode 100644
index 000000000000..9aff8dc6203a
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-overlap.js
@@ -0,0 +1 @@
+//# sourceMappingURL=index-map-invalid-overlap.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-overlap.js.map b/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-overlap.js.map
new file mode 100644
index 000000000000..8d42546fd899
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-invalid-overlap.js.map
@@ -0,0 +1,23 @@
+{
+  "version": 3,
+  "sections": [
+    {
+      "offset": { "line": 0, "column": 0 },
+      "map": {
+        "version": 3,
+        "names": [],
+        "sources": ["empty-original.js"],
+        "mappings": "AAAA"
+      }
+    },
+    {
+      "offset": { "line": 0, "column": 0 },
+      "map": {
+        "version": 3,
+        "names": [],
+        "sources": ["empty-original.js"],
+        "mappings": "AAAA"
+      }
+    }
+  ]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-map.js b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-map.js
new file mode 100644
index 000000000000..86c8e9a2535a
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-map.js
@@ -0,0 +1 @@
+//# sourceMappingURL=index-map-missing-map.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-map.js.map b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-map.js.map
new file mode 100644
index 000000000000..3bce47e852cf
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-map.js.map
@@ -0,0 +1,8 @@
+{
+  "version": 3,
+  "sections": [
+    {
+      "offset": { "line": 0, "column": 0 }
+    }
+  ]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-column.js b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-column.js
new file mode 100644
index 000000000000..fe6917403f18
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-column.js
@@ -0,0 +1 @@
+//# sourceMappingURL=index-map-missing-offset-column.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-column.js.map b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-column.js.map
new file mode 100644
index 000000000000..aa48bbb99317
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-column.js.map
@@ -0,0 +1,14 @@
+{
+  "version": 3,
+  "sections": [
+    {
+      "offset": { "line": 0  },
+      "map": {
+        "version": 3,
+        "names": [],
+        "sources": ["empty-original.js"],
+        "mappings": "AAAA"
+      }
+    }
+  ]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-line.js b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-line.js
new file mode 100644
index 000000000000..ba8614e412ce
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-line.js
@@ -0,0 +1 @@
+//# sourceMappingURL=index-map-missing-offset-line.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-line.js.map b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-line.js.map
new file mode 100644
index 000000000000..3d60444ea74f
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset-line.js.map
@@ -0,0 +1,14 @@
+{
+  "version": 3,
+  "sections": [
+    {
+      "offset": { "column": 0 },
+      "map": {
+        "version": 3,
+        "names": [],
+        "sources": ["empty-original.js"],
+        "mappings": "AAAA"
+      }
+    }
+  ]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset.js b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset.js
new file mode 100644
index 000000000000..9ca2cf3fb515
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset.js
@@ -0,0 +1 @@
+//# sourceMappingURL=index-map-missing-offset.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset.js.map b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset.js.map
new file mode 100644
index 000000000000..7285138bf51e
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-missing-offset.js.map
@@ -0,0 +1,13 @@
+{
+  "version": 3,
+  "sections": [
+    {
+      "map": {
+        "version": 3,
+        "names": [],
+        "sources": ["empty-original.js"],
+        "mappings": "AAAA"
+      }
+    }
+  ]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-column-wrong-type.js b/LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-column-wrong-type.js
new file mode 100644
index 000000000000..ed1e9ec5d5b8
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-column-wrong-type.js
@@ -0,0 +1 @@
+//# sourceMappingURL=index-map-offset-column-wrong-type.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-column-wrong-type.js.map b/LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-column-wrong-type.js.map
new file mode 100644
index 000000000000..b43e79a9dd85
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-column-wrong-type.js.map
@@ -0,0 +1,14 @@
+{
+  "version": 3,
+  "sections": [
+    {
+      "offset": { "line": 0, "column": true },
+      "map": {
+        "version": 3,
+        "names": [],
+        "sources": ["empty-original.js"],
+        "mappings": "AAAA"
+      }
+    }
+  ]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-line-wrong-type.js b/LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-line-wrong-type.js
new file mode 100644
index 000000000000..d58f2aff993e
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-line-wrong-type.js
@@ -0,0 +1 @@
+//# sourceMappingURL=index-map-offset-line-wrong-type.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-line-wrong-type.js.map b/LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-line-wrong-type.js.map
new file mode 100644
index 000000000000..81dbcd6ec434
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-offset-line-wrong-type.js.map
@@ -0,0 +1,14 @@
+{
+  "version": 3,
+  "sections": [
+    {
+      "offset": { "line": true, "column": 0 },
+      "map": {
+        "version": 3,
+        "names": [],
+        "sources": ["empty-original.js"],
+        "mappings": "AAAA"
+      }
+    }
+  ]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-two-concatenated-sources.js b/LayoutTests/inspector/model/resources/source-map-tests/index-map-two-concatenated-sources.js
new file mode 100644
index 000000000000..b8702d7187c9
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-two-concatenated-sources.js
@@ -0,0 +1,2 @@
+function foo(){return 42}function bar(){return 24}foo();bar();function baz(){return"baz"}baz();
+//# sourceMappingURL=index-map-two-concatenated-sources.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-two-concatenated-sources.js.map b/LayoutTests/inspector/model/resources/source-map-tests/index-map-two-concatenated-sources.js.map
new file mode 100644
index 000000000000..f5e5214abbab
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-two-concatenated-sources.js.map
@@ -0,0 +1,23 @@
+{
+  "version": 3,
+  "sections": [
+    {
+      "offset": { "line": 0, "column": 0 },
+      "map": {
+        "version": 3,
+        "names": ["foo","bar"],
+        "sources": ["basic-mapping-original.js"],
+        "mappings": "AAAA,SAASA,MACP,OAAO,EACT,CACA,SAASC,MACP,OAAO,EACT,CACAD,MACAC"
+      }
+    },
+    {
+      "offset": { "line": 0, "column": 62 },
+      "map": {
+        "version": 3,
+        "names": ["baz"],
+        "sources": ["second-source-original.js"],
+        "mappings":"AAAA,SAASA,MACP,MAAO,KACT,CACAA"
+      }
+    }
+  ]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-map.js b/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-map.js
new file mode 100644
index 000000000000..d31d6d6358b4
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-map.js
@@ -0,0 +1 @@
+//# sourceMappingURL=index-map-wrong-type-map.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-map.js.map b/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-map.js.map
new file mode 100644
index 000000000000..0963f623d761
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-map.js.map
@@ -0,0 +1,9 @@
+{
+  "version": 3,
+  "sections": [
+    {
+      "offset": { "line": 0, "column": 0 },
+      "map": "not a map"
+    }
+  ]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-offset.js b/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-offset.js
new file mode 100644
index 000000000000..048e1246f8b0
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-offset.js
@@ -0,0 +1 @@
+//# sourceMappingURL=index-map-wrong-type-offset.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-offset.js.map b/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-offset.js.map
new file mode 100644
index 000000000000..fbc6e4e67887
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-offset.js.map
@@ -0,0 +1,14 @@
+{
+  "version": 3,
+  "sections": [
+    {
+      "offset": "not an offset",
+      "map": {
+        "version": 3,
+        "names": [],
+        "sources": ["empty-original.js"],
+        "mappings": "AAAA"
+      }
+    }
+  ]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-sections.js b/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-sections.js
new file mode 100644
index 000000000000..011eca806ed6
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-sections.js
@@ -0,0 +1 @@
+//# sourceMappingURL=index-map-wrong-type-sections.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-sections.js.map b/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-sections.js.map
new file mode 100644
index 000000000000..dbfb4ead3001
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/index-map-wrong-type-sections.js.map
@@ -0,0 +1,4 @@
+{
+  "version": 3,
+  "sections": "not a sections list"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-bad-separator.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-bad-separator.js
new file mode 100644
index 000000000000..25338aca30ce
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-bad-separator.js
@@ -0,0 +1,2 @@
+function foo(){return 42}function bar(){return 24}foo();bar();
+//# sourceMappingURL=invalid-mapping-bad-separator.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-bad-separator.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-bad-separator.js.map
new file mode 100644
index 000000000000..5f4f5b92330a
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-bad-separator.js.map
@@ -0,0 +1,6 @@
+{
+  "version": 3,
+  "names": ["foo","bar"],
+  "sources": ["basic-mapping-original.js"],
+  "mappings": "AAAA.SAASA:MACP"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-1.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-1.js
new file mode 100644
index 000000000000..cb38e2fe9d7b
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-1.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-not-a-string-1.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-1.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-1.js.map
new file mode 100644
index 000000000000..5bf3e2a9d85b
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-1.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-not-a-string-1.js",
+  "sources": ["empty-original.js"],
+  "mappings": 5
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-2.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-2.js
new file mode 100644
index 000000000000..3d84abd6c6b4
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-2.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-not-a-string-2.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-2.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-2.js.map
new file mode 100644
index 000000000000..4527e7f7641c
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-not-a-string-2.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-not-a-string-2.js",
+  "sources": ["empty-original.js"],
+  "mappings": [1, 2, 3, 4]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-column-too-large.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-column-too-large.js
new file mode 100644
index 000000000000..55591f874b1b
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-column-too-large.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-column-too-large.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-column-too-large.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-column-too-large.js.map
new file mode 100644
index 000000000000..b4c059e0151b
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-column-too-large.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-column-too-large.js",
+  "sources": ["empty-original.js"],
+  "mappings": "ggggggE"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-out-of-bounds.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-out-of-bounds.js
new file mode 100644
index 000000000000..2a6b434eff58
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-out-of-bounds.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-name-index-out-of-bounds.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-out-of-bounds.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-out-of-bounds.js.map
new file mode 100644
index 000000000000..8dd2ea6c2da0
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-out-of-bounds.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": ["foo"],
+  "file": "invalid-mapping-segment-name-index-out-of-bounds.js",
+  "sources": ["empty-original.js"],
+  "mappings": "AAAAC"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-too-large.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-too-large.js
new file mode 100644
index 000000000000..709e34dbd326
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-too-large.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-name-index-too-large.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-too-large.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-too-large.js.map
new file mode 100644
index 000000000000..c7bf5b98d120
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-name-index-too-large.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-name-index-too-large.js",
+  "sources": ["empty-original.js"],
+  "mappings": "AAAAggggggE"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-column.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-column.js
new file mode 100644
index 000000000000..a202152d6fdf
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-column.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-negative-column.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-column.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-column.js.map
new file mode 100644
index 000000000000..403878bfa47a
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-column.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-negative-column.js",
+  "sources": ["empty-original.js"],
+  "mappings": "F"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-name-index.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-name-index.js
new file mode 100644
index 000000000000..3e3f63420467
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-name-index.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-negative-name-index.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-name-index.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-name-index.js.map
new file mode 100644
index 000000000000..b94f63646e46
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-name-index.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-negative-name-index.js",
+  "sources": ["empty-original.js"],
+  "mappings": "AAAAF"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-column.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-column.js
new file mode 100644
index 000000000000..f21d5342b395
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-column.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-negative-original-column.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-column.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-column.js.map
new file mode 100644
index 000000000000..011c639d3f91
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-column.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-negative-original-column.js",
+  "sources": ["empty-original.js"],
+  "mappings": "AAAF"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-line.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-line.js
new file mode 100644
index 000000000000..b37309601ce0
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-line.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-negative-original-line.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-line.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-line.js.map
new file mode 100644
index 000000000000..e7ec993eebda
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-original-line.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-negative-original-line.js",
+  "sources": ["empty-original.js"],
+  "mappings": "AAFA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-column.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-column.js
new file mode 100644
index 000000000000..94b835d6877c
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-column.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-negative-relative-column.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-column.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-column.js.map
new file mode 100644
index 000000000000..414884072b55
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-column.js.map
@@ -0,0 +1,8 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-negative-relative-column.js",
+  "sources": ["empty-original.js"],
+  "sourcesContent": [""],
+  "mappings": "C,F"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-name-index.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-name-index.js
new file mode 100644
index 000000000000..c965c5f011f5
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-name-index.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-negative-relative-name-index.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-name-index.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-name-index.js.map
new file mode 100644
index 000000000000..1fbbcfcd323e
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-name-index.js.map
@@ -0,0 +1,8 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-negative-relative-name-index.js",
+  "sources": ["empty-original.js"],
+  "sourcesContent": [""],
+  "mappings": "AAAAC,AAAAF"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-column.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-column.js
new file mode 100644
index 000000000000..493a6ec88a39
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-column.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-negative-relative-original-column.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-column.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-column.js.map
new file mode 100644
index 000000000000..7e62895651fa
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-column.js.map
@@ -0,0 +1,8 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-negative-relative-original-column.js",
+  "sources": ["empty-original.js"],
+  "sourcesContent": [""],
+  "mappings": "AAAC,AAAF"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-line.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-line.js
new file mode 100644
index 000000000000..ca8329fb98f0
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-line.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-negative-relative-original-line.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-line.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-line.js.map
new file mode 100644
index 000000000000..86b0fb3a04cc
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-original-line.js.map
@@ -0,0 +1,8 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-negative-relative-original-line.js",
+  "sources": ["empty-original.js"],
+  "sourcesContent": [""],
+  "mappings": "AACA,AAFA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-source-index.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-source-index.js
new file mode 100644
index 000000000000..fa92225b0963
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-source-index.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-negative-relative-source-index.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-source-index.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-source-index.js.map
new file mode 100644
index 000000000000..2efeb047db61
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-relative-source-index.js.map
@@ -0,0 +1,8 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-negative-relative-source-index.js",
+  "sources": ["empty-original.js"],
+  "sourcesContent": [""],
+  "mappings": "ACAA,AFAA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-source-index.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-source-index.js
new file mode 100644
index 000000000000..6e05849b6a03
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-source-index.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-negative-source-index.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-source-index.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-source-index.js.map
new file mode 100644
index 000000000000..596c2f298bbe
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-negative-source-index.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-negative-source-index.js",
+  "sources": ["empty-original.js"],
+  "mappings": "AFAA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-column-too-large.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-column-too-large.js
new file mode 100644
index 000000000000..0936ed7ea8fd
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-column-too-large.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-original-column-too-large.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-column-too-large.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-column-too-large.js.map
new file mode 100644
index 000000000000..ff2103fe24fe
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-column-too-large.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-original-column-too-large.js",
+  "sources": ["empty-original.js"],
+  "mappings": "AAAggggggE"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-line-too-large.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-line-too-large.js
new file mode 100644
index 000000000000..9b3aa5a361ae
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-line-too-large.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-original-line-too-large.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-line-too-large.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-line-too-large.js.map
new file mode 100644
index 000000000000..890f1c71fc5b
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-original-line-too-large.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-original-line-too-large.js",
+  "sources": ["empty-original.js"],
+  "mappings": "AAggggggEA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-out-of-bounds.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-out-of-bounds.js
new file mode 100644
index 000000000000..2e5fbca26825
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-out-of-bounds.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-source-index-out-of-bounds.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-out-of-bounds.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-out-of-bounds.js.map
new file mode 100644
index 000000000000..86dedb114fa9
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-out-of-bounds.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-source-index-out-of-bounds.js",
+  "sources": ["empty-original.js"],
+  "mappings": "ACAA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-too-large.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-too-large.js
new file mode 100644
index 000000000000..3f4943e1272d
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-too-large.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-source-index-too-large.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-too-large.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-too-large.js.map
new file mode 100644
index 000000000000..e9f858c6e15d
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-source-index-too-large.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-source-index-too-large.js",
+  "sources": ["empty-original.js"],
+  "mappings": "AggggggEAA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-three-fields.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-three-fields.js
new file mode 100644
index 000000000000..4b868fac9c5e
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-three-fields.js
@@ -0,0 +1,2 @@
+function foo(){return 42}function bar(){return 24}foo();bar();
+//# sourceMappingURL=invalid-mapping-three-fields.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-three-fields.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-three-fields.js.map
new file mode 100644
index 000000000000..c2af1165ad8f
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-three-fields.js.map
@@ -0,0 +1,6 @@
+{
+  "version": 3,
+  "names": ["foo","bar"],
+  "sources": ["basic-mapping-original.js"],
+  "mappings": "AAA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-two-fields.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-two-fields.js
new file mode 100644
index 000000000000..96045a7a11dd
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-two-fields.js
@@ -0,0 +1,2 @@
+function foo(){return 42}function bar(){return 24}foo();bar();
+//# sourceMappingURL=invalid-mapping-two-fields.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-two-fields.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-two-fields.js.map
new file mode 100644
index 000000000000..73cf00fa1c96
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-two-fields.js.map
@@ -0,0 +1,6 @@
+{
+  "version": 3,
+  "names": ["foo","bar"],
+  "sources": ["basic-mapping-original.js"],
+  "mappings": "AA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-zero-fields.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-zero-fields.js
new file mode 100644
index 000000000000..9d5332a56ca5
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-zero-fields.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-mapping-segment-column-with-zero-fields.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-zero-fields.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-zero-fields.js.map
new file mode 100644
index 000000000000..5a34d25b645e
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-mapping-segment-with-zero-fields.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "invalid-mapping-segment-with-zero-fields.js",
+  "sources": ["empty-original.js"],
+  "mappings": ",,,,"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-missing-continuation.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-missing-continuation.js
new file mode 100644
index 000000000000..2c2a0090aca6
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-missing-continuation.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-vlq-missing-continuation.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-missing-continuation.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-missing-continuation.js.map
new file mode 100644
index 000000000000..dd0e363ff473
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-missing-continuation.js.map
@@ -0,0 +1,6 @@
+{
+  "version" : 3,
+  "sources": [],
+  "names": [],
+  "mappings": "g"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-non-base64-char.js b/LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-non-base64-char.js
new file mode 100644
index 000000000000..d1b20b41a29f
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-non-base64-char.js
@@ -0,0 +1 @@
+//# sourceMappingURL=invalid-vlq-non-base64-char.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-non-base64-char.js.map b/LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-non-base64-char.js.map
new file mode 100644
index 000000000000..4fa1ac576885
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/invalid-vlq-non-base64-char.js.map
@@ -0,0 +1,6 @@
+{
+  "version" : 3,
+  "sources": [],
+  "names": [],
+  "mappings": "A$%?!"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/names-missing.js b/LayoutTests/inspector/model/resources/source-map-tests/names-missing.js
new file mode 100644
index 000000000000..58781fd88705
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/names-missing.js
@@ -0,0 +1 @@
+//# sourceMappingURL=names-missing.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/names-missing.js.map b/LayoutTests/inspector/model/resources/source-map-tests/names-missing.js.map
new file mode 100644
index 000000000000..82170bf784c3
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/names-missing.js.map
@@ -0,0 +1,5 @@
+{
+  "version" : 3,
+  "sources": ["empty-original.js"],
+  "mappings": ""
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-1.js b/LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-1.js
new file mode 100644
index 000000000000..dc65f1972b5a
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-1.js
@@ -0,0 +1 @@
+//# sourceMappingURL=names-not-a-list-1.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-1.js.map b/LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-1.js.map
new file mode 100644
index 000000000000..fe1edaeb96ad
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-1.js.map
@@ -0,0 +1,6 @@
+{
+  "version" : 3,
+  "sources": ["source.js"],
+  "names": "not a list",
+  "mappings": "AAAAA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-2.js b/LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-2.js
new file mode 100644
index 000000000000..d7251f78da84
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-2.js
@@ -0,0 +1 @@
+//# sourceMappingURL=names-not-a-list-2.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-2.js.map b/LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-2.js.map
new file mode 100644
index 000000000000..3388d2bb7109
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/names-not-a-list-2.js.map
@@ -0,0 +1,6 @@
+{
+  "version" : 3,
+  "sources": ["source.js"],
+  "names": { "foo": 3 },
+  "mappings": "AAAAA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/names-not-string.js b/LayoutTests/inspector/model/resources/source-map-tests/names-not-string.js
new file mode 100644
index 000000000000..8dc7b4811a3e
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/names-not-string.js
@@ -0,0 +1 @@
+//# sourceMappingURL=names-not-string.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/names-not-string.js.map b/LayoutTests/inspector/model/resources/source-map-tests/names-not-string.js.map
new file mode 100644
index 000000000000..c0feb0739aec
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/names-not-string.js.map
@@ -0,0 +1,6 @@
+{
+  "version" : 3,
+  "sources": ["source.js"],
+  "names": [null, 3, true, false, {}, []],
+  "mappings": "AAAAA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/second-source-original.js b/LayoutTests/inspector/model/resources/source-map-tests/second-source-original.js
new file mode 100644
index 000000000000..c339bc9d15da
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/second-source-original.js
@@ -0,0 +1,4 @@
+function baz() {
+  return "baz";
+}
+baz();
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/source-map-spec-tests.json b/LayoutTests/inspector/model/resources/source-map-tests/source-map-spec-tests.json
new file mode 100644
index 000000000000..d4ec5aa3809c
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/source-map-spec-tests.json
@@ -0,0 +1,1081 @@
+{
+  "tests": [
+    {
+      "name": "versionValid",
+      "description": "Test a simple source map with a valid version number",
+      "baseFile": "version-valid.js",
+      "sourceMapFile": "version-valid.js.map",
+      "sourceMapIsValid": true
+    },
+    {
+      "name": "versionMissing",
+      "description": "Test a source map that is missing a version field",
+      "baseFile": "version-missing.js",
+      "sourceMapFile": "version-missing.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "versionNotANumber",
+      "description": "Test a source map with a version field that is not a number",
+      "baseFile": "version-not-a-number.js",
+      "sourceMapFile": "version-not-a-number.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "versionNumericString",
+      "description": "Test a source map with a version field that is a number as a string",
+      "baseFile": "version-numeric-string.js",
+      "sourceMapFile": "version-numeric-string.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "versionTooHigh",
+      "description": "Test a source map with an integer version field that is too high",
+      "baseFile": "version-too-high.js",
+      "sourceMapFile": "version-too-high.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "versionTooLow",
+      "description": "Test a source map with an integer version field that is too low",
+      "baseFile": "version-too-low.js",
+      "sourceMapFile": "version-too-low.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "sourcesMissing",
+      "description": "Test a source map that is missing a necessary sources field",
+      "baseFile": "sources-missing.js",
+      "sourceMapFile": "sources-missing.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "sourcesNotAList1",
+      "description": "Test a source map with a sources field that is not a valid list (string)",
+      "baseFile": "sources-not-a-list-1.js",
+      "sourceMapFile": "sources-not-a-list-1.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "sourcesNotAList2",
+      "description": "Test a source map with a sources field that is not a valid list (object)",
+      "baseFile": "sources-not-a-list-2.js",
+      "sourceMapFile": "sources-not-a-list-2.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "sourcesNotStringOrNull",
+      "description": "Test a source map with a sources list that has non-string and non-null items",
+      "baseFile": "sources-not-string-or-null.js",
+      "sourceMapFile": "sources-not-string-or-null.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "sourcesAndSourcesContentBothNull",
+      "description": "Test a source map that has both null sources and sourcesContent entries",
+      "baseFile": "sources-and-sources-content-both-null.js",
+      "sourceMapFile": "sources-and-sources-content-both-null.js.map",
+      "sourceMapIsValid": true
+    },
+    {
+      "name": "namesMissing",
+      "description": "Test a source map that is missing a necessary names field",
+      "baseFile": "names-missing.js",
+      "sourceMapFile": "names-missing.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "namesNotAList1",
+      "description": "Test a source map with a names field that is not a valid list (string)",
+      "baseFile": "names-not-a-list-1.js",
+      "sourceMapFile": "names-not-a-list-1.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "namesNotAList2",
+      "description": "Test a source map with a names field that is not a valid list (object)",
+      "baseFile": "names-not-a-list-2.js",
+      "sourceMapFile": "names-not-a-list-2.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "namesNotString",
+      "description": "Test a source map with a names list that has non-string items",
+      "baseFile": "names-not-string.js",
+      "sourceMapFile": "names-not-string.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "ignoreListEmpty",
+      "description": "Test a source map with an ignore list that has no items",
+      "baseFile": "ignore-list-empty.js",
+      "sourceMapFile": "ignore-list-empty.js.map",
+      "sourceMapIsValid": true
+    },
+    {
+      "name": "ignoreListValid1",
+      "description": "Test a source map with a simple valid ignore list",
+      "baseFile": "ignore-list-valid-1.js",
+      "sourceMapFile": "ignore-list-valid-1.js.map",
+      "sourceMapIsValid": true,
+      "testActions": [
+        {
+          "actionType": "checkIgnoreList",
+          "present": ["empty-original.js"]
+        }
+      ]
+    },
+    {
+      "name": "ignoreListWrongType1",
+      "description": "Test a source map with an ignore list with the wrong type of items",
+      "baseFile": "ignore-list-wrong-type-1.js",
+      "sourceMapFile": "ignore-list-wrong-type-1.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "ignoreListWrongType2",
+      "description": "Test a source map with an ignore list with the wrong type of items",
+      "baseFile": "ignore-list-wrong-type-2.js",
+      "sourceMapFile": "ignore-list-wrong-type-2.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "ignoreListWrongType3",
+      "description": "Test a source map with an ignore list that is not a list",
+      "baseFile": "ignore-list-wrong-type-3.js",
+      "sourceMapFile": "ignore-list-wrong-type-3.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "ignoreListOutOfBounds",
+      "description": "Test a source map with an ignore list with an item with an out-of-bounds index",
+      "baseFile": "ignore-list-out-of-bounds.js",
+      "sourceMapFile": "ignore-list-out-of-bounds.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "unrecognizedProperty",
+      "description": "Test a source map that has an extra field not explicitly encoded in the spec",
+      "baseFile": "unrecognized-property.js",
+      "sourceMapFile": "unrecognized-property.js.map",
+      "sourceMapIsValid": true
+    },
+    {
+      "name": "invalidVLQDueToNonBase64Character",
+      "description": "Test a source map that has a mapping with an invalid non-base64 character",
+      "baseFile": "invalid-vlq-non-base64-char.js",
+      "sourceMapFile": "invalid-vlq-non-base64-char.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidVLQDueToMissingContinuationDigits",
+      "description": "Test a source map that has a mapping with an invalid VLQ that has a continuation bit but no continuing digits",
+      "baseFile": "invalid-vlq-missing-continuation.js",
+      "sourceMapFile": "invalid-vlq-missing-continuation.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingNotAString1",
+      "description": "Test a source map that has an invalid mapping that is not a string (number)",
+      "baseFile": "invalid-mapping-not-a-string-1.js",
+      "sourceMapFile": "invalid-mapping-not-a-string-1.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingNotAString2",
+      "description": "Test a source map that has an invalid mapping that is not a string (array)",
+      "baseFile": "invalid-mapping-not-a-string-2.js",
+      "sourceMapFile": "invalid-mapping-not-a-string-2.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentBadSeparator",
+      "description": "Test a source map that uses separator characters not recognized in the spec",
+      "baseFile": "invalid-mapping-bad-separator.js",
+      "sourceMapFile": "invalid-mapping-bad-separator.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithZeroFields",
+      "description": "Test a source map that has the wrong number (zero) of segments fields",
+      "baseFile": "invalid-mapping-segment-with-zero-fields.js",
+      "sourceMapFile": "invalid-mapping-segment-with-zero-fields.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithTwoFields",
+      "description": "Test a source map that has the wrong number (two) of segments fields",
+      "baseFile": "invalid-mapping-segment-with-two-fields.js",
+      "sourceMapFile": "invalid-mapping-segment-with-two-fields.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithThreeFields",
+      "description": "Test a source map that has the wrong number (three) of segments fields",
+      "baseFile": "invalid-mapping-segment-with-three-fields.js",
+      "sourceMapFile": "invalid-mapping-segment-with-three-fields.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithSourceIndexOutOfBounds",
+      "description": "Test a source map that has a source index field that is out of bounds of the sources field",
+      "baseFile": "invalid-mapping-segment-source-index-out-of-bounds.js",
+      "sourceMapFile": "invalid-mapping-segment-source-index-out-of-bounds.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithNameIndexOutOfBounds",
+      "description": "Test a source map that has a name index field that is out of bounds of the names field",
+      "baseFile": "invalid-mapping-segment-name-index-out-of-bounds.js",
+      "sourceMapFile": "invalid-mapping-segment-name-index-out-of-bounds.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithNegativeColumn",
+      "description": "Test a source map that has an invalid negative non-relative column field",
+      "baseFile": "invalid-mapping-segment-negative-column.js",
+      "sourceMapFile": "invalid-mapping-segment-negative-column.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithNegativeSourceIndex",
+      "description": "Test a source map that has an invalid negative non-relative source index field",
+      "baseFile": "invalid-mapping-segment-negative-source-index.js",
+      "sourceMapFile": "invalid-mapping-segment-negative-source-index.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithNegativeOriginalLine",
+      "description": "Test a source map that has an invalid negative non-relative original line field",
+      "baseFile": "invalid-mapping-segment-negative-original-line.js",
+      "sourceMapFile": "invalid-mapping-segment-negative-original-line.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithNegativeOriginalColumn",
+      "description": "Test a source map that has an invalid negative non-relative original column field",
+      "baseFile": "invalid-mapping-segment-negative-original-column.js",
+      "sourceMapFile": "invalid-mapping-segment-negative-original-column.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithNegativeNameIndex",
+      "description": "Test a source map that has an invalid negative non-relative name index field",
+      "baseFile": "invalid-mapping-segment-negative-name-index.js",
+      "sourceMapFile": "invalid-mapping-segment-negative-name-index.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithNegativeRelativeColumn",
+      "description": "Test a source map that has an invalid negative relative column field",
+      "baseFile": "invalid-mapping-segment-negative-relative-column.js",
+      "sourceMapFile": "invalid-mapping-segment-negative-relative-column.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithNegativeRelativeSourceIndex",
+      "description": "Test a source map that has an invalid negative relative source index field",
+      "baseFile": "invalid-mapping-segment-negative-relative-source-index.js",
+      "sourceMapFile": "invalid-mapping-segment-negative-relative-source-index.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithNegativeRelativeOriginalLine",
+      "description": "Test a source map that has an invalid negative relative original line field",
+      "baseFile": "invalid-mapping-segment-negative-relative-original-line.js",
+      "sourceMapFile": "invalid-mapping-segment-negative-relative-original-line.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithNegativeRelativeOriginalColumn",
+      "description": "Test a source map that has an invalid negative relative original column field",
+      "baseFile": "invalid-mapping-segment-negative-relative-original-column.js",
+      "sourceMapFile": "invalid-mapping-segment-negative-relative-original-column.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithNegativeRelativeNameIndex",
+      "description": "Test a source map that has an invalid negative relative name index field",
+      "baseFile": "invalid-mapping-segment-negative-relative-name-index.js",
+      "sourceMapFile": "invalid-mapping-segment-negative-relative-name-index.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithColumnExceeding32Bits",
+      "description": "Test a source map that has a column field that exceeds 32 bits",
+      "baseFile": "invalid-mapping-segment-column-too-large.js",
+      "sourceMapFile": "invalid-mapping-segment-column-too-large.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithSourceIndexExceeding32Bits",
+      "description": "Test a source map that has a source index field that exceeds 32 bits",
+      "baseFile": "invalid-mapping-segment-source-index-too-large.js",
+      "sourceMapFile": "invalid-mapping-segment-source-index-too-large.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithOriginalLineExceeding32Bits",
+      "description": "Test a source map that has a original line field that exceeds 32 bits",
+      "baseFile": "invalid-mapping-segment-original-line-too-large.js",
+      "sourceMapFile": "invalid-mapping-segment-original-line-too-large.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithOriginalColumnExceeding32Bits",
+      "description": "Test a source map that has an original column field that exceeds 32 bits",
+      "baseFile": "invalid-mapping-segment-original-column-too-large.js",
+      "sourceMapFile": "invalid-mapping-segment-original-column-too-large.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "invalidMappingSegmentWithNameIndexExceeding32Bits",
+      "description": "Test a source map that has a name index field that exceeds 32 bits",
+      "baseFile": "invalid-mapping-segment-name-index-too-large.js",
+      "sourceMapFile": "invalid-mapping-segment-name-index-too-large.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "validMappingFieldsWith32BitMaxValues",
+      "description": "Test a source map that has segment fields with max values representable in 32 bits",
+      "baseFile": "valid-mapping-boundary-values.js",
+      "sourceMapFile": "valid-mapping-boundary-values.js.map",
+      "sourceMapIsValid": true
+    },
+    {
+      "name": "validMappingLargeVLQ",
+      "description": "Test a source map that has a segment field VLQ that is very long but within 32-bits",
+      "baseFile": "valid-mapping-large-vlq.js",
+      "sourceMapFile": "valid-mapping-large-vlq.js.map",
+      "sourceMapIsValid": true
+    },
+    {
+      "name": "validMappingEmptyGroups",
+      "description": "Test a source map with a mapping that has many empty groups",
+      "baseFile": "valid-mapping-empty-groups.js",
+      "sourceMapFile": "valid-mapping-empty-groups.js.map",
+      "sourceMapIsValid": true
+    },
+    {
+      "name": "indexMapWrongTypeSections",
+      "description": "Test an index map with a sections field with the wrong type",
+      "baseFile": "index-map-wrong-type-sections.js",
+      "sourceMapFile": "index-map-wrong-type-sections.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "indexMapWrongTypeOffset",
+      "description": "Test an index map with an offset field with the wrong type",
+      "baseFile": "index-map-wrong-type-offset.js",
+      "sourceMapFile": "index-map-wrong-type-offset.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "indexMapWrongTypeMap",
+      "description": "Test an index map with a map field with the wrong type",
+      "baseFile": "index-map-wrong-type-map.js",
+      "sourceMapFile": "index-map-wrong-type-map.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "indexMapInvalidBaseMappings",
+      "description": "Test that an index map cannot also have a regular mappings field",
+      "baseFile": "index-map-invalid-base-mappings.js",
+      "sourceMapFile": "index-map-invalid-base-mappings.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "indexMapInvalidOverlap",
+      "description": "Test that an invalid index map with multiple sections that overlap",
+      "baseFile": "index-map-invalid-overlap.js",
+      "sourceMapFile": "index-map-invalid-overlap.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "indexMapInvalidOrder",
+      "description": "Test that an invalid index map with multiple sections in the wrong order",
+      "baseFile": "index-map-invalid-order.js",
+      "sourceMapFile": "index-map-invalid-order.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "indexMapMissingMap",
+      "description": "Test that an index map that is missing a section map",
+      "baseFile": "index-map-missing-map.js",
+      "sourceMapFile": "index-map-missing-map.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "indexMapMissingOffset",
+      "description": "Test that an index map that is missing a section offset",
+      "baseFile": "index-map-missing-offset.js",
+      "sourceMapFile": "index-map-missing-offset.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "indexMapMissingOffsetLine",
+      "description": "Test that an index map that is missing a section offset's line field",
+      "baseFile": "index-map-missing-offset-line.js",
+      "sourceMapFile": "index-map-missing-offset-line.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "indexMapMissingOffsetColumn",
+      "description": "Test that an index map that is missing a section offset's column field",
+      "baseFile": "index-map-missing-offset-column.js",
+      "sourceMapFile": "index-map-missing-offset-column.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "indexMapOffsetLineWrongType",
+      "description": "Test that an index map that has an offset line field with the wrong type of value",
+      "baseFile": "index-map-offset-line-wrong-type.js",
+      "sourceMapFile": "index-map-offset-line-wrong-type.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "indexMapOffsetColumnWrongType",
+      "description": "Test that an index map that has an offset column field with the wrong type of value",
+      "baseFile": "index-map-offset-column-wrong-type.js",
+      "sourceMapFile": "index-map-offset-column-wrong-type.js.map",
+      "sourceMapIsValid": false
+    },
+    {
+      "name": "basicMapping",
+      "description": "Test a simple source map that has several valid mappings",
+      "baseFile": "basic-mapping.js",
+      "sourceMapFile": "basic-mapping.js.map",
+      "sourceMapIsValid": true,
+      "testActions": [
+        {
+          "actionType": "checkMapping",
+          "generatedLine": 0,
+          "generatedColumn": 0,
+          "originalSource": "basic-mapping-original.js",
+          "originalLine": 0,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "generatedLine": 0,
+          "generatedColumn": 9,
+          "originalSource": "basic-mapping-original.js",
+          "originalLine": 0,
+          "originalColumn": 9,
+          "mappedName": "foo"
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 15,
+          "originalLine": 1,
+          "originalColumn": 2,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 22,
+          "originalLine": 1,
+          "originalColumn": 9,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 24,
+          "originalLine": 2,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 25,
+          "originalLine": 3,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "generatedLine": 0,
+          "generatedColumn": 34,
+          "originalSource": "basic-mapping-original.js",
+          "originalLine": 3,
+          "originalColumn": 9,
+          "mappedName": "bar"
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 40,
+          "originalLine": 4,
+          "originalColumn": 2,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 47,
+          "originalLine": 4,
+          "originalColumn": 9,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 49,
+          "originalLine": 5,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 50,
+          "originalLine": 6,
+          "originalColumn": 0,
+          "mappedName": "foo"
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 56,
+          "originalLine": 7,
+          "originalColumn": 0,
+          "mappedName": "bar"
+        }
+      ]
+    },
+    {
+      "name": "basicMappingWithIndexMap",
+      "description": "Test a version of basic-mapping.js.map that is split into sections with an index map",
+      "baseFile": "basic-mapping-as-index-map.js",
+      "sourceMapFile": "basic-mapping-as-index-map.js.map",
+      "sourceMapIsValid": true,
+      "testActions": [
+        {
+          "actionType": "checkMapping",
+          "generatedLine": 0,
+          "generatedColumn": 0,
+          "originalSource": "basic-mapping-original.js",
+          "originalLine": 0,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "generatedLine": 0,
+          "generatedColumn": 9,
+          "originalSource": "basic-mapping-original.js",
+          "originalLine": 0,
+          "originalColumn": 9,
+          "mappedName": "foo"
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 15,
+          "originalLine": 1,
+          "originalColumn": 2,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 22,
+          "originalLine": 1,
+          "originalColumn": 9,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 24,
+          "originalLine": 2,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 25,
+          "originalLine": 3,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "generatedLine": 0,
+          "generatedColumn": 34,
+          "originalSource": "basic-mapping-original.js",
+          "originalLine": 3,
+          "originalColumn": 9,
+          "mappedName": "bar"
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 40,
+          "originalLine": 4,
+          "originalColumn": 2,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 47,
+          "originalLine": 4,
+          "originalColumn": 9,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 49,
+          "originalLine": 5,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 50,
+          "originalLine": 6,
+          "originalColumn": 0,
+          "mappedName": "foo"
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 56,
+          "originalLine": 7,
+          "originalColumn": 0,
+          "mappedName": "bar"
+        }
+      ]
+    },
+    {
+      "name": "indexMapWithTwoConcatenatedSources",
+      "description": "Test an index map that has two sub-maps for concatenated sources",
+      "baseFile": "index-map-two-concatenated-sources.js",
+      "sourceMapFile": "index-map-two-concatenated-sources.js.map",
+      "sourceMapIsValid": true,
+      "testActions": [
+        {
+          "actionType": "checkMapping",
+          "generatedLine": 0,
+          "generatedColumn": 0,
+          "originalSource": "basic-mapping-original.js",
+          "originalLine": 0,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "generatedLine": 0,
+          "generatedColumn": 9,
+          "originalSource": "basic-mapping-original.js",
+          "originalLine": 0,
+          "originalColumn": 9,
+          "mappedName": "foo"
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 15,
+          "originalLine": 1,
+          "originalColumn": 2,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 22,
+          "originalLine": 1,
+          "originalColumn": 9,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 24,
+          "originalLine": 2,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 25,
+          "originalLine": 3,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "generatedLine": 0,
+          "generatedColumn": 34,
+          "originalSource": "basic-mapping-original.js",
+          "originalLine": 3,
+          "originalColumn": 9,
+          "mappedName": "bar"
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 40,
+          "originalLine": 4,
+          "originalColumn": 2,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 47,
+          "originalLine": 4,
+          "originalColumn": 9,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 49,
+          "originalLine": 5,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 50,
+          "originalLine": 6,
+          "originalColumn": 0,
+          "mappedName": "foo"
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "basic-mapping-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 56,
+          "originalLine": 7,
+          "originalColumn": 0,
+          "mappedName": "bar"
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "second-source-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 62,
+          "originalLine": 0,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "second-source-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 71,
+          "originalLine": 0,
+          "originalColumn": 9,
+          "mappedName": "baz"
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "second-source-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 77,
+          "originalLine": 1,
+          "originalColumn": 2,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "second-source-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 83,
+          "originalLine": 1,
+          "originalColumn": 9,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "second-source-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 88,
+          "originalLine": 2,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "originalSource": "second-source-original.js",
+          "generatedLine": 0,
+          "generatedColumn": 89,
+          "originalLine": 3,
+          "originalColumn": 0,
+          "mappedName": "baz"
+        }
+      ]
+    },
+    {
+      "name": "sourcesNullSourcesContentNonNull",
+      "description": "Test a source map that has a null source but has a sourcesContent",
+      "baseFile": "sources-null-sources-content-non-null.js",
+      "sourceMapFile": "sources-null-sources-content-non-null.js.map",
+      "sourceMapIsValid": true,
+      "testActions": [
+        {
+          "actionType": "checkMapping",
+          "generatedLine": 0,
+          "generatedColumn": 0,
+          "originalSource": null,
+          "originalLine": 0,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "generatedLine": 0,
+          "generatedColumn": 9,
+          "originalSource": null,
+          "originalLine": 0,
+          "originalColumn": 9,
+          "mappedName": "foo"
+        }
+      ]
+    },
+    {
+      "name": "sourcesNonNullSourcesContentNull",
+      "description": "Test a source map that has a non-null source but has a null sourcesContent",
+      "baseFile": "sources-non-null-sources-content-null.js",
+      "sourceMapFile": "sources-non-null-sources-content-null.js.map",
+      "sourceMapIsValid": true,
+      "testActions": [
+        {
+          "actionType": "checkMapping",
+          "generatedLine": 0,
+          "generatedColumn": 0,
+          "originalSource": "basic-mapping-original.js",
+          "originalLine": 0,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMapping",
+          "generatedLine": 0,
+          "generatedColumn": 9,
+          "originalSource": "basic-mapping-original.js",
+          "originalLine": 0,
+          "originalColumn": 9,
+          "mappedName": "foo"
+        }
+      ]
+    },
+    {
+      "name": "transitiveMapping",
+      "description": "Test a simple two-stage transitive mapping from a minified JS to a TypeScript source",
+      "baseFile": "transitive-mapping.js",
+      "sourceMapFile": "transitive-mapping.js.map",
+      "sourceMapIsValid": true,
+      "testActions": [
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 0,
+          "generatedColumn": 0,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping-original.js.map"],
+          "originalLine": 1,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 0,
+          "generatedColumn": 9,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping-original.js.map"],
+          "originalLine": 1,
+          "originalColumn": 9,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 0,
+          "generatedColumn": 13,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping-original.js.map"],
+          "originalLine": 1,
+          "originalColumn": 13,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 0,
+          "generatedColumn": 16,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping-original.js.map"],
+          "originalLine": 2,
+          "originalColumn": 2,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 0,
+          "generatedColumn": 23,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping-original.js.map"],
+          "originalLine": 2,
+          "originalColumn": 9,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 0,
+          "generatedColumn": 24,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping-original.js.map"],
+          "originalLine": 3,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 0,
+          "generatedColumn": 25,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping-original.js.map"],
+          "originalLine": 4,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 0,
+          "generatedColumn": 29,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping-original.js.map"],
+          "originalLine": 4,
+          "originalColumn": 4,
+          "mappedName": null
+        }
+      ]
+    },
+    {
+      "name": "transitiveMappingWithThreeSteps",
+      "description": "Test a three-stage transitive mapping from an un-minified JS to minified JS to a TypeScript source",
+      "baseFile": "transitive-mapping-three-steps.js",
+      "sourceMapFile": "transitive-mapping-three-steps.js.map",
+      "sourceMapIsValid": true,
+      "testActions": [
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 0,
+          "generatedColumn": 0,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping.js.map", "transitive-mapping-original.js.map"],
+          "originalLine": 1,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 0,
+          "generatedColumn": 9,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping.js.map", "transitive-mapping-original.js.map"],
+          "originalLine": 1,
+          "originalColumn": 9,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 0,
+          "generatedColumn": 13,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping.js.map", "transitive-mapping-original.js.map"],
+          "originalLine": 1,
+          "originalColumn": 13,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 1,
+          "generatedColumn": 4,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping.js.map", "transitive-mapping-original.js.map"],
+          "originalLine": 2,
+          "originalColumn": 2,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 1,
+          "generatedColumn": 11,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping.js.map", "transitive-mapping-original.js.map"],
+          "originalLine": 2,
+          "originalColumn": 9,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 2,
+          "generatedColumn": 0,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping.js.map", "transitive-mapping-original.js.map"],
+          "originalLine": 3,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 4,
+          "generatedColumn": 0,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping.js.map", "transitive-mapping-original.js.map"],
+          "originalLine": 4,
+          "originalColumn": 0,
+          "mappedName": null
+        },
+        {
+          "actionType": "checkMappingTransitive",
+          "generatedLine": 4,
+          "generatedColumn": 4,
+          "originalSource": "typescript-original.ts",
+          "intermediateMaps": ["transitive-mapping.js.map", "transitive-mapping-original.js.map"],
+          "originalLine": 4,
+          "originalColumn": 4,
+          "mappedName": null
+        }
+      ]
+    }
+  ]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/sources-and-sources-content-both-null.js b/LayoutTests/inspector/model/resources/source-map-tests/sources-and-sources-content-both-null.js
new file mode 100644
index 000000000000..9263eba549f5
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/sources-and-sources-content-both-null.js
@@ -0,0 +1 @@
+//# sourceMappingURL=sources-and-sources-content-both-null.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/sources-and-sources-content-both-null.js.map b/LayoutTests/inspector/model/resources/source-map-tests/sources-and-sources-content-both-null.js.map
new file mode 100644
index 000000000000..09a7c1f3698c
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/sources-and-sources-content-both-null.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": ["foo"],
+  "sources": [null],
+  "sourcesContent": [null],
+  "mappings":"AAAA,SAASA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/sources-missing.js b/LayoutTests/inspector/model/resources/source-map-tests/sources-missing.js
new file mode 100644
index 000000000000..779b865e2769
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/sources-missing.js
@@ -0,0 +1 @@
+//# sourceMappingURL=sources-missing.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/sources-missing.js.map b/LayoutTests/inspector/model/resources/source-map-tests/sources-missing.js.map
new file mode 100644
index 000000000000..92aff4fb0e74
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/sources-missing.js.map
@@ -0,0 +1,5 @@
+{
+  "version" : 3,
+  "names": ["foo"],
+  "mappings": ""
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/sources-non-null-sources-content-null.js b/LayoutTests/inspector/model/resources/source-map-tests/sources-non-null-sources-content-null.js
new file mode 100644
index 000000000000..939b568ba142
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/sources-non-null-sources-content-null.js
@@ -0,0 +1,2 @@
+function foo(){return 42}function bar(){return 24}foo();bar();
+//# sourceMappingURL=sources-non-null-sources-content-null.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/sources-non-null-sources-content-null.js.map b/LayoutTests/inspector/model/resources/source-map-tests/sources-non-null-sources-content-null.js.map
new file mode 100644
index 000000000000..e573906b2d71
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/sources-non-null-sources-content-null.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": ["foo"],
+  "sources": ["basic-mapping-original.js"],
+  "sourcesContent": [null],
+  "mappings":"AAAA,SAASA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-1.js b/LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-1.js
new file mode 100644
index 000000000000..7e33b7e86725
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-1.js
@@ -0,0 +1 @@
+//# sourceMappingURL=sources-not-a-list-1.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-1.js.map b/LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-1.js.map
new file mode 100644
index 000000000000..26330517b988
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-1.js.map
@@ -0,0 +1,6 @@
+{
+  "version" : 3,
+  "sources": "not a list",
+  "names": ["foo"],
+  "mappings": "AAAAA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-2.js b/LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-2.js
new file mode 100644
index 000000000000..4021f763fc88
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-2.js
@@ -0,0 +1 @@
+//# sourceMappingURL=sources-not-a-list-2.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-2.js.map b/LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-2.js.map
new file mode 100644
index 000000000000..2ed85962fddf
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/sources-not-a-list-2.js.map
@@ -0,0 +1,6 @@
+{
+  "version" : 3,
+  "sources": { "source.js": 3 },
+  "names": ["foo"],
+  "mappings": "AAAAA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/sources-not-string-or-null.js b/LayoutTests/inspector/model/resources/source-map-tests/sources-not-string-or-null.js
new file mode 100644
index 000000000000..7dca97a1dab5
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/sources-not-string-or-null.js
@@ -0,0 +1 @@
+//# sourceMappingURL=sources-not-string-or-null.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/sources-not-string-or-null.js.map b/LayoutTests/inspector/model/resources/source-map-tests/sources-not-string-or-null.js.map
new file mode 100644
index 000000000000..db2556196605
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/sources-not-string-or-null.js.map
@@ -0,0 +1,6 @@
+{
+  "version" : 3,
+  "sources": [3, {}, true, false, []],
+  "names": ["foo"],
+  "mappings": "AAAAA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/sources-null-sources-content-non-null.js b/LayoutTests/inspector/model/resources/source-map-tests/sources-null-sources-content-non-null.js
new file mode 100644
index 000000000000..a760594ee9bd
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/sources-null-sources-content-non-null.js
@@ -0,0 +1,2 @@
+function foo(){return 42}function bar(){return 24}foo();bar();
+//# sourceMappingURL=sources-null-sources-content-non-null.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/sources-null-sources-content-non-null.js.map b/LayoutTests/inspector/model/resources/source-map-tests/sources-null-sources-content-non-null.js.map
new file mode 100644
index 000000000000..43af03903f64
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/sources-null-sources-content-non-null.js.map
@@ -0,0 +1,7 @@
+{
+  "version":3,
+  "names": ["foo"],
+  "sources": [null],
+  "sourcesContent": ["function foo()\n{ return 42; }\nfunction bar()\n { return 24; }\nfoo();\nbar();"],
+  "mappings":"AAAA,SAASA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-original.js b/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-original.js
new file mode 100644
index 000000000000..0a96699d6e25
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-original.js
@@ -0,0 +1,5 @@
+function foo(x) {
+    return x;
+}
+foo("foo");
+//# sourceMappingURL=transitive-mapping-original.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-original.js.map b/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-original.js.map
new file mode 100644
index 000000000000..65af25c1ebbe
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-original.js.map
@@ -0,0 +1,8 @@
+{
+  "version": 3,
+  "file" : "transitive-mapping-original.js",
+  "sourceRoot": "",
+  "sources": ["typescript-original.ts"],
+  "names": [],
+  "mappings": "AACA,SAAS,GAAG,CAAC,CAAU;IACrB,OAAO,CAAC,CAAC;AACX,CAAC;AACD,GAAG,CAAC,KAAK,CAAC,CAAC"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-three-steps.js b/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-three-steps.js
new file mode 100644
index 000000000000..fd956164d349
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-three-steps.js
@@ -0,0 +1,6 @@
+function foo(x) {
+    return x;
+}
+
+foo("foo");
+//# sourceMappingURL=transitive-mapping-three-steps.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-three-steps.js.map b/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-three-steps.js.map
new file mode 100644
index 000000000000..90459d90f6a0
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping-three-steps.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "file": "transitive-mapping-three-steps.js",
+  "sources": ["transitive-mapping.js"],
+  "names": ["foo", "x"],
+  "mappings": "AAAA,SAASA,IAAIC;IAAG,OAAOA;AAAC;;AAACD,IAAI,KAAK"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping.js b/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping.js
new file mode 100644
index 000000000000..183c027f1bb8
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping.js
@@ -0,0 +1,2 @@
+function foo(x){return x}foo("foo");
+//# sourceMappingURL=transitive-mapping.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping.js.map b/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping.js.map
new file mode 100644
index 000000000000..d6a6fa6672d4
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/transitive-mapping.js.map
@@ -0,0 +1,6 @@
+{
+  "version": 3,
+  "names": ["foo","x"],
+  "sources": ["transitive-mapping-original.js"],
+  "mappings":"AAAA,SAASA,IAAIC,GACT,OAAOA,CACX,CACAD,IAAI"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/unrecognized-property.js b/LayoutTests/inspector/model/resources/source-map-tests/unrecognized-property.js
new file mode 100644
index 000000000000..19dfb0e2e6c7
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/unrecognized-property.js
@@ -0,0 +1 @@
+//# sourceMappingURL=unrecognized-property.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/unrecognized-property.js.map b/LayoutTests/inspector/model/resources/source-map-tests/unrecognized-property.js.map
new file mode 100644
index 000000000000..40bee558a4ff
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/unrecognized-property.js.map
@@ -0,0 +1,8 @@
+{
+  "version" : 3,
+  "sources": [],
+  "names": [],
+  "mappings": "",
+  "foobar": 42,
+  "unusedProperty": [1, 2, 3, 4]
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-boundary-values.js b/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-boundary-values.js
new file mode 100644
index 000000000000..3c49709e05ac
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-boundary-values.js
@@ -0,0 +1 @@
+//# sourceMappingURL=valid-mapping-boundary-values.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-boundary-values.js.map b/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-boundary-values.js.map
new file mode 100644
index 000000000000..4dd836e63d8f
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-boundary-values.js.map
@@ -0,0 +1,7 @@
+{
+  "version": 3,
+  "names": ["foo"],
+  "file": "valid-mapping-boundary-values.js",
+  "sources": ["empty-original.js"],
+  "mappings": "+/////DA+/////D+/////DA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-empty-groups.js b/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-empty-groups.js
new file mode 100644
index 000000000000..a2b767b619a0
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-empty-groups.js
@@ -0,0 +1 @@
+//# sourceMappingURL=valid-mapping-empty-groups.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-empty-groups.js.map b/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-empty-groups.js.map
new file mode 100644
index 000000000000..643c9ae78481
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-empty-groups.js.map
@@ -0,0 +1,8 @@
+{
+  "version": 3,
+  "names": [],
+  "file": "valid-mapping-empty-groups.js",
+  "sources": ["empty-original.js"],
+  "sourcesContent": [""],
+  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-large-vlq.js b/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-large-vlq.js
new file mode 100644
index 000000000000..b0cd8978132a
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-large-vlq.js
@@ -0,0 +1 @@
+//# sourceMappingURL=valid-mapping-large-vlq.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-large-vlq.js.map b/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-large-vlq.js.map
new file mode 100644
index 000000000000..76e18704c4b1
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/valid-mapping-large-vlq.js.map
@@ -0,0 +1,6 @@
+{
+  "version": 3,
+  "names": [],
+  "sources": ["valid-mapping-large-vlq.js"],
+  "mappings": "igggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggA"
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/version-missing.js b/LayoutTests/inspector/model/resources/source-map-tests/version-missing.js
new file mode 100644
index 000000000000..c32d1f1a1cc6
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/version-missing.js
@@ -0,0 +1 @@
+//# sourceMappingURL=version-missing.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/version-missing.js.map b/LayoutTests/inspector/model/resources/source-map-tests/version-missing.js.map
new file mode 100644
index 000000000000..49d8ce766edb
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/version-missing.js.map
@@ -0,0 +1,5 @@
+{
+  "sources": [],
+  "names": [],
+  "mappings": ""
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/version-not-a-number.js b/LayoutTests/inspector/model/resources/source-map-tests/version-not-a-number.js
new file mode 100644
index 000000000000..ae2342e2ffe5
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/version-not-a-number.js
@@ -0,0 +1 @@
+//# sourceMappingURL=version-not-a-number.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/version-not-a-number.js.map b/LayoutTests/inspector/model/resources/source-map-tests/version-not-a-number.js.map
new file mode 100644
index 000000000000..a584d6e69511
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/version-not-a-number.js.map
@@ -0,0 +1,6 @@
+{
+  "version" : "3foo",
+  "sources": [],
+  "names": [],
+  "mappings": ""
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/version-numeric-string.js b/LayoutTests/inspector/model/resources/source-map-tests/version-numeric-string.js
new file mode 100644
index 000000000000..a55170885da6
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/version-numeric-string.js
@@ -0,0 +1 @@
+//# sourceMappingURL=version-numeric-string.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/version-numeric-string.js.map b/LayoutTests/inspector/model/resources/source-map-tests/version-numeric-string.js.map
new file mode 100644
index 000000000000..dbe52a7d0df6
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/version-numeric-string.js.map
@@ -0,0 +1,6 @@
+{
+  "version" : "3",
+  "sources": [],
+  "names": [],
+  "mappings": ""
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/version-too-high.js b/LayoutTests/inspector/model/resources/source-map-tests/version-too-high.js
new file mode 100644
index 000000000000..55f4e1a298fa
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/version-too-high.js
@@ -0,0 +1 @@
+//# sourceMappingURL=version-too-high.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/version-too-high.js.map b/LayoutTests/inspector/model/resources/source-map-tests/version-too-high.js.map
new file mode 100644
index 000000000000..ee23be32ff27
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/version-too-high.js.map
@@ -0,0 +1,6 @@
+{
+  "version" : 4,
+  "sources": [],
+  "names": [],
+  "mappings": ""
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/version-too-low.js b/LayoutTests/inspector/model/resources/source-map-tests/version-too-low.js
new file mode 100644
index 000000000000..d9642920b313
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/version-too-low.js
@@ -0,0 +1 @@
+//# sourceMappingURL=version-too-low.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/version-too-low.js.map b/LayoutTests/inspector/model/resources/source-map-tests/version-too-low.js.map
new file mode 100644
index 000000000000..64ca7a6e2e92
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/version-too-low.js.map
@@ -0,0 +1,6 @@
+{
+  "version" : 2,
+  "sources": [],
+  "names": [],
+  "mappings": ""
+}
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/version-valid.js b/LayoutTests/inspector/model/resources/source-map-tests/version-valid.js
new file mode 100644
index 000000000000..82d0bfa1eb2a
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/version-valid.js
@@ -0,0 +1 @@
+//# sourceMappingURL=version-valid.js.map
diff --git a/LayoutTests/inspector/model/resources/source-map-tests/version-valid.js.map b/LayoutTests/inspector/model/resources/source-map-tests/version-valid.js.map
new file mode 100644
index 000000000000..1a163052d8fc
--- /dev/null
+++ b/LayoutTests/inspector/model/resources/source-map-tests/version-valid.js.map
@@ -0,0 +1,6 @@
+{
+  "version" : 3,
+  "sources": [],
+  "names": [],
+  "mappings": ""
+}
diff --git a/LayoutTests/inspector/model/source-map-spec-expected.txt b/LayoutTests/inspector/model/source-map-spec-expected.txt
new file mode 100644
index 000000000000..f5906826f830
--- /dev/null
+++ b/LayoutTests/inspector/model/source-map-spec-expected.txt
@@ -0,0 +1,575 @@
+Run source map specification consumer test cases.
+
+
+== Running test suite: SourceMapSpec
+-- Running test case: SourceMapSpec
+versionValid
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+versionMissing
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+versionNotANumber
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+versionNumericString
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+versionTooHigh
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+versionTooLow
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+sourcesMissing
+PASS: Expected that there is an associated failed source map URL
+PASS: Expected no source map resource loaded
+sourcesNotAList1
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+sourcesNotAList2
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+sourcesNotStringOrNull
+PASS: Expected that there is an associated failed source map URL
+PASS: Expected no source map resource loaded
+sourcesAndSourcesContentBothNull
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+namesMissing
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+namesNotAList1
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+namesNotAList2
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+namesNotString
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+ignoreListEmpty
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+ignoreListValid1
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+ignoreListWrongType1
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+ignoreListWrongType2
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+ignoreListWrongType3
+PASS: Expected that there is an associated failed source map URL
+PASS: Expected no source map resource loaded
+ignoreListOutOfBounds
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+unrecognizedProperty
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+invalidVLQDueToNonBase64Character
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidVLQDueToMissingContinuationDigits
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingNotAString1
+PASS: Expected that there is an associated failed source map URL
+PASS: Expected no source map resource loaded
+invalidMappingNotAString2
+PASS: Expected that there is an associated failed source map URL
+PASS: Expected no source map resource loaded
+invalidMappingSegmentBadSeparator
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithZeroFields
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+PASS: Expected no source map resource loaded
+invalidMappingSegmentWithTwoFields
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+PASS: Expected no source map resource loaded
+invalidMappingSegmentWithThreeFields
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+PASS: Expected no source map resource loaded
+invalidMappingSegmentWithSourceIndexOutOfBounds
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithNameIndexOutOfBounds
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithNegativeColumn
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithNegativeSourceIndex
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithNegativeOriginalLine
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithNegativeOriginalColumn
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithNegativeNameIndex
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithNegativeRelativeColumn
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithNegativeRelativeSourceIndex
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithNegativeRelativeOriginalLine
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithNegativeRelativeOriginalColumn
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithNegativeRelativeNameIndex
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithColumnExceeding32Bits
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithSourceIndexExceeding32Bits
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithOriginalLineExceeding32Bits
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithOriginalColumnExceeding32Bits
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+invalidMappingSegmentWithNameIndexExceeding32Bits
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+validMappingFieldsWith32BitMaxValues
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+validMappingLargeVLQ
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+validMappingEmptyGroups
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+indexMapWrongTypeSections
+PASS: Expected that there is an associated failed source map URL
+PASS: Expected no source map resource loaded
+indexMapWrongTypeOffset
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+indexMapWrongTypeMap
+PASS: Expected that there is an associated failed source map URL
+PASS: Expected no source map resource loaded
+indexMapInvalidBaseMappings
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+indexMapInvalidOverlap
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+indexMapInvalidOrder
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+indexMapMissingMap
+PASS: Expected that there is an associated failed source map URL
+PASS: Expected no source map resource loaded
+indexMapMissingOffset
+PASS: Expected that there is an associated failed source map URL
+PASS: Expected no source map resource loaded
+indexMapMissingOffsetLine
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+indexMapMissingOffsetColumn
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+indexMapOffsetLineWrongType
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+indexMapOffsetColumnWrongType
+FAIL: Expected that there is an associated failed source map URL
+    Expected: truthy
+    Actual: false
+FAIL: Expected no source map resource loaded
+    Expected: 0
+    Actual: 1
+basicMapping
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+PASS: Test location (0, 0) should be mapped
+PASS: Original line: 0, expected: 0
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 9) should be mapped
+PASS: Original line: 0, expected: 0
+PASS: Original column: 9, expected: 9
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 15) should be mapped
+PASS: Original line: 1, expected: 1
+PASS: Original column: 2, expected: 2
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 22) should be mapped
+PASS: Original line: 1, expected: 1
+PASS: Original column: 9, expected: 9
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 24) should be mapped
+PASS: Original line: 2, expected: 2
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 25) should be mapped
+PASS: Original line: 3, expected: 3
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 34) should be mapped
+PASS: Original line: 3, expected: 3
+PASS: Original column: 9, expected: 9
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 40) should be mapped
+PASS: Original line: 4, expected: 4
+PASS: Original column: 2, expected: 2
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 47) should be mapped
+PASS: Original line: 4, expected: 4
+PASS: Original column: 9, expected: 9
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 49) should be mapped
+PASS: Original line: 5, expected: 5
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 50) should be mapped
+PASS: Original line: 6, expected: 6
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 56) should be mapped
+PASS: Original line: 7, expected: 7
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+basicMappingWithIndexMap
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+PASS: Test location (0, 0) should be mapped
+PASS: Original line: 0, expected: 0
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 9) should be mapped
+PASS: Original line: 0, expected: 0
+PASS: Original column: 9, expected: 9
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 15) should be mapped
+PASS: Original line: 1, expected: 1
+PASS: Original column: 2, expected: 2
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 22) should be mapped
+PASS: Original line: 1, expected: 1
+PASS: Original column: 9, expected: 9
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 24) should be mapped
+PASS: Original line: 2, expected: 2
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 25) should be mapped
+PASS: Original line: 3, expected: 3
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 34) should be mapped
+PASS: Original line: 3, expected: 3
+PASS: Original column: 9, expected: 9
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 40) should be mapped
+PASS: Original line: 4, expected: 4
+PASS: Original column: 2, expected: 2
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 47) should be mapped
+PASS: Original line: 4, expected: 4
+PASS: Original column: 9, expected: 9
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 49) should be mapped
+PASS: Original line: 5, expected: 5
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 50) should be mapped
+PASS: Original line: 6, expected: 6
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 56) should be mapped
+PASS: Original line: 7, expected: 7
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+indexMapWithTwoConcatenatedSources
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+PASS: Test location (0, 0) should be mapped
+PASS: Original line: 0, expected: 0
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 9) should be mapped
+PASS: Original line: 0, expected: 0
+PASS: Original column: 9, expected: 9
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 15) should be mapped
+PASS: Original line: 1, expected: 1
+PASS: Original column: 2, expected: 2
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 22) should be mapped
+PASS: Original line: 1, expected: 1
+PASS: Original column: 9, expected: 9
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 24) should be mapped
+PASS: Original line: 2, expected: 2
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 25) should be mapped
+PASS: Original line: 3, expected: 3
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 34) should be mapped
+PASS: Original line: 3, expected: 3
+PASS: Original column: 9, expected: 9
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 40) should be mapped
+PASS: Original line: 4, expected: 4
+PASS: Original column: 2, expected: 2
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 47) should be mapped
+PASS: Original line: 4, expected: 4
+PASS: Original column: 9, expected: 9
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 49) should be mapped
+PASS: Original line: 5, expected: 5
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 50) should be mapped
+PASS: Original line: 6, expected: 6
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 56) should be mapped
+PASS: Original line: 7, expected: 7
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 62) should be mapped
+PASS: Original line: 0, expected: 0
+PASS: Original column: 0, expected: 0
+PASS: Original source: second-source-original.js, expected: second-source-original.js
+PASS: Test location (0, 71) should be mapped
+PASS: Original line: 0, expected: 0
+PASS: Original column: 9, expected: 9
+PASS: Original source: second-source-original.js, expected: second-source-original.js
+PASS: Test location (0, 77) should be mapped
+PASS: Original line: 1, expected: 1
+PASS: Original column: 2, expected: 2
+PASS: Original source: second-source-original.js, expected: second-source-original.js
+PASS: Test location (0, 83) should be mapped
+PASS: Original line: 1, expected: 1
+PASS: Original column: 9, expected: 9
+PASS: Original source: second-source-original.js, expected: second-source-original.js
+PASS: Test location (0, 88) should be mapped
+PASS: Original line: 2, expected: 2
+PASS: Original column: 0, expected: 0
+PASS: Original source: second-source-original.js, expected: second-source-original.js
+PASS: Test location (0, 89) should be mapped
+PASS: Original line: 3, expected: 3
+PASS: Original column: 0, expected: 0
+PASS: Original source: second-source-original.js, expected: second-source-original.js
+sourcesNullSourcesContentNonNull
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+PASS: Test location (0, 0) should be mapped
+PASS: Original line: 0, expected: 0
+PASS: Original column: 0, expected: 0
+FAIL: Original source: sources-null-sources-content-non-null.js.map, expected: null
+    Expected: null
+    Actual: "sources-null-sources-content-non-null.js.map"
+PASS: Test location (0, 9) should be mapped
+PASS: Original line: 0, expected: 0
+PASS: Original column: 9, expected: 9
+FAIL: Original source: sources-null-sources-content-non-null.js.map, expected: null
+    Expected: null
+    Actual: "sources-null-sources-content-non-null.js.map"
+sourcesNonNullSourcesContentNull
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+PASS: Test location (0, 0) should be mapped
+PASS: Original line: 0, expected: 0
+PASS: Original column: 0, expected: 0
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+PASS: Test location (0, 9) should be mapped
+PASS: Original line: 0, expected: 0
+PASS: Original column: 9, expected: 9
+PASS: Original source: basic-mapping-original.js, expected: basic-mapping-original.js
+transitiveMapping
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+transitiveMappingWithThreeSteps
+PASS: Resource should have loaded 1 SourceMap.
+PASS: SourceMap should be a WI.SourceMap instance.
+
diff --git a/LayoutTests/inspector/model/source-map-spec.html b/LayoutTests/inspector/model/source-map-spec.html
new file mode 100644
index 000000000000..0a740575cd77
--- /dev/null
+++ b/LayoutTests/inspector/model/source-map-spec.html
@@ -0,0 +1,84 @@
+<!DOCTYPE html>
+<html>
+<head>
+<script src="../../http/tests/inspector/resources/inspector-test.js"></script>
+<script>
+function triggerScriptResource(scriptName) {
+    let script = document.createElement("script");
+    script.src = `resources/source-map-tests/${scriptName}`;
+    document.body.appendChild(script);
+}
+
+async function setup()
+{
+    const response = await fetch("resources/source-map-tests/source-map-spec-tests.json");
+    const json = await response.json();
+    TestPage.dispatchEventToFrontend("TestDescriptionsFetched", {json});
+}
+
+
+function test()
+{
+    function checkMapping(resource, testCase, action)
+    {
+        const location = resource.createSourceCodeLocation(action.generatedLine, action.generatedColumn);
+        InspectorTest.expectThat(location.hasMappedLocation(), `Test location (${action.generatedLine}, ${action.generatedColumn}) should be mapped`);
+        InspectorTest.expectEqual(location.displayLineNumber, action.originalLine, `Original line: ${location.displayLineNumber}, expected: ${action.originalLine}`);
+        InspectorTest.expectEqual(location.displayColumnNumber, action.originalColumn, `Original column: ${location.displayColumnNumber}, expected: ${action.originalColumn}`);
+        InspectorTest.expectEqual(location.displaySourceCode.displayName, action.originalSource, `Original source: ${location.displaySourceCode.displayName}, expected: ${action.originalSource}`);
+    }
+
+    function withTimeout(promise, seconds)
+    {
+        return Promise.race([promise, new Promise((resolve, reject) => {
+            setTimeout(resolve, seconds);
+        })]);
+    }
+
+    let suite = InspectorTest.createAsyncSuite("SourceMapSpec");
+
+    suite.addTestCase({
+        name: "SourceMapSpec",
+        description: "Run test cases from the source maps spec test suite",
+        async test(resolve, reject) {
+            InspectorTest.evaluateInPage("setup()");
+            const event = await InspectorTest.awaitEvent("TestDescriptionsFetched");
+            const testDescriptions = event.data.json;
+
+            for (const testCase of testDescriptions.tests) {
+                InspectorTest.log(testCase.name);
+                InspectorTest.evaluateInPage(`triggerScriptResource('${testCase.baseFile}')`);
+                let resourceEvent = await WI.Frame.awaitEvent(WI.Frame.Event.ResourceWasAdded);
+                let resource = resourceEvent.data.resource;
+                let sourceMapEvent = await withTimeout(resource.awaitEvent(WI.SourceCode.Event.SourceMapAdded), 50);
+
+                if (testCase.sourceMapIsValid) {
+                    InspectorTest.expectEqual(resource.sourceMaps.length, 1, "Resource should have loaded 1 SourceMap.");
+                    InspectorTest.expectThat(resource.sourceMaps[0] instanceof WI.SourceMap, "SourceMap should be a WI.SourceMap instance.");
+                    if (!(resource.sourceMaps[0] instanceof WI.SourceMap)) {
+                        continue;
+                    }
+                } else {
+                    const hasFailedSourceMap = WI.networkManager.isSourceMapURL(absoluteURL(testCase.sourceMapFile, resource.displayURL));
+                    InspectorTest.expectThat(hasFailedSourceMap, "Expected that there is an associated failed source map URL");
+                    InspectorTest.expectEqual(resource.sourceMaps.length, 0, "Expected no source map resource loaded");
+                }
+
+                if (testCase.testActions) {
+                  for (const action of testCase.testActions) {
+                    if (action.actionType === "checkMapping")
+                      checkMapping(resource, testCase, action);
+                  }
+                }
+            }
+        }
+    });
+
+    suite.runTestCasesAndFinish();
+}
+</script>
+</head>
+<body onload="runTest()">
+<p>Run source map specification consumer test cases.</p>
+</body>
+</html>
-- 
2.39.2

